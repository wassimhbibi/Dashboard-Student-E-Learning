<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden" *ngFor="let c of f">

  <mat-drawer-container class="flex-auto h-full">

      <!-- Drawer -->
      <mat-drawer
          class="w-90 dark:bg-gray-900"
          [autoFocus]="false"
          [mode]="drawerMode"
          [opened]="drawerOpened"
          #matDrawer>
          <div class="flex flex-col items-start p-8 border-b">
        
              <ng-container *ngFor="let c of f">
                  <div
                  class="py-0.5 px-3 rounded-full text-sm font-semibold" style="width:fit-content !important;margin-top:7px !important"
                  [ngClass]="{'text-blue-500 bg-blue-100 dark:text-blue-50 dark:bg-blue-800': c.type_cour === 'Web',
                  'text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500': c.type_cour  === 'Mobile',
                  'text-pink-800 bg-pink-100 dark:text-pink-50 dark:bg-pink-500': c.type_cour  === 'Cloud',
                  'text-amber-500 bg-amber-900 dark:text-amber-50 dark:bg-amber-500': c.type_cour  === 'Other IT',
                  'text-red-800 bg-red-100 dark:text-red-50 dark:bg-red-500': c.type_cour  === 'DevOps',
                  'text-yellow-500 bg-yellow-100 dark:text-yellow-50 dark:bg-yellow-800': c.type_cour  === 'ML',
                  'text-teal-800 bg-teal-100 dark:text-teal-50 dark:bg-teal-500': c.type_cour  === 'IA',
                  'text-purple-500 bg-purple-100 dark:text-purple-50 dark:bg-purple-800': c.type_cour  === 'Data science',
                  'text-lime-500 bg-lime-100 dark:text-lime-50 dark:bg-lime-800': c.type_cour  === 'data mining',
                  'text-rose-800 bg-rose-100 dark:text-rose-50 dark:bg-rose-500': c.type_cour  === 'Security',
                  'text-emerald-800 bg-emerald-100 dark:text-emerald-50 dark:bg-emerald-500': c.type_cour  === 'Graphic design',
                  'text-violet-800 bg-violet-100 dark:text-violet-50 dark:bg-violet-500': c.type_cour  === 'Embedded system',
                  'text-sky-500 bg-sky-200 dark:text-sky-50 dark:bg-sky-800': c.type_cour  === 'English',
                  'text-fuchsia-800 bg-fuchsia-100 dark:text-fuchsia-50 dark:bg-fuchsia-500': c.type_cour  === 'French',
                  'text-emerald-500 bg-emerald-300 dark:text-emerald-50 dark:bg-emerald-800': c.type_cour  === 'Arabic',
                  'text-lime-900 bg-lime-400 dark:text-lime-100 dark:bg-lime-600': c.type_cour  === 'Spanish',
                  'text-red-500 bg-red-300 dark:text-red-50 dark:bg-red-800': c.type_cour  === 'German',
                  'text-fuchsia-500 bg-fuchsia-200 dark:text-fuchsia-50 dark:bg-fuchsia-800': c.type_cour  === 'Italien',
                  'text-rosybrown-800 bg-rosybrown-100 dark:text-rosybrown-50 dark:bg-rosybrown-500': c.type_cour  === 'Other Languages',
                  'text-rose-400 bg-rose-200 dark:text-rose-50 dark:bg-rose-800': c.type_cour  === 'Physics',
                  'text-pink-500 bg-pink-200 dark:text-pink-50 dark:bg-pink-500': c.type_cour  === 'Chemistry',
                  'text-violet-500 bg-violet-200 dark:text-violet-100 dark:bg-violet-900': c.type_cour  === 'Biology',
                  'text-indigo-500 bg-indigo-200 dark:text-indigo-50 dark:bg-indigo-500': c.type_cour  === 'Engineering',
                  'text-cyan-400 bg-cyan-200 dark:text-cyan-50 dark:bg-cyan-500': c.type_cour  === 'Astronomy',
                  'text-teal-500 bg-teal-200 dark:text-teal-50 dark:bg-teal-500': c.type_cour  === 'Other sience',
                  'text-yellow-700 bg-yellow-300 dark:text-yellow-50 dark:bg-yellow-500': c.type_cour  === 'Business Management',
                  'text-orange-400 bg-orange-200 dark:text-orange-50 dark:bg-orange-500': c.type_cour  === 'Entrepreneurship',
                  'text-stone-500 bg-stone-200 dark:text-stone-50 dark:bg-stone-500': c.type_cour  === 'Marketing',
                  'text-indigo-300 bg-amber-200 dark:text-indigo-50 dark:bg-indigo-500': c.type_cour  === 'Finance',
                  'text-lime-700 bg-lime-200 dark:text-lime-600 dark:bg-lime-800': c.type_cour  === 'Accounting',
                  'text-yellow-800 bg-yellow-600 dark:text-yellow-300 dark:bg-yellow-800': c.type_cour  === 'Leadership',
                  'text-orange-700 bg-orange-500 dark:text-orange-200 dark:bg-orange-600': c.type_cour  === 'Economics',
                  'text-purple-700 bg-purple-500 dark:text-purple-300 dark:bg-purple-500': c.type_cour  === 'Other Business'}">
                    {{c.type_cour}}
                  </div>
              </ng-container>
              <!-- Course title & description -->
              <div class="mt-3 text-2xl font-semibold">{{c.courname}}</div>
              <div class="text-secondary">{{c.discription}}</div>
              <!-- Course time -->
             
          </div>

          <!-- Steps -->
          <div class="py-2 px-8" *ngFor="let chapter of chapitre; let i = index" (click)="showDescription(chapter.title)">
            <ol>
              <ng-container>
                <li class="relative group py-6">
                  <ng-container>
                    <li class="relative group py-6">
                      <ng-container *ngIf="i < chapitre.length - 1">
                        <div
                          class="absolute top-6 left-4  h-full -ml-px w-1 h-40"
                          [ngClass]="{
                            'bg-primary': i < currentStep && isChecked[i],
                            'bg-gray-300 dark:bg-gray-600': i >= currentStep || !isChecked[i]
                          }"
                        ></div>
                      </ng-container>
                      <div class="relative flex items-start cursor-pointer">
                        <!-- Use (click) event binding to handle the click -->
                        <div
                          class="flex flex-0 items-center justify-center w-8 h-8 rounded-full ring-2 ring-primary overflow-visible ring-inset bg-card dark:bg-default"
                          (click)="toggleDivCheck(i)"
                        >
                          <ng-container *ngIf="!isChecked[i]">
                            {{ i + 1 }}
                          </ng-container>
                          <ng-container *ngIf="isChecked[i]">
                            <mat-icon
               
                              svgIcon="heroicons_solid:check"
                              class="icon-size-5 text-current" 
                              style=" border-radius: 50% !important; height: 31px !important; width: 70px !important;"
                            ></mat-icon>
                          </ng-container>
                        </div>
                        <div class="ml-4">
                          <div class="font-medium leading-4">{{chapter.title}}</div>
                          <div    style="margin-top: 10px;">
                              <a
                              class="min-h-8 h-8 lg:min-h-10 lg:h-10 mt-3 lg:mt-6"
                                  mat-stroked-button
                                  [color]="'primary'"
                             
                                  (click)="show_lessonsName(chapter.title , chapter.course)"
                                  >
                                  <span class="inline-flex items-center">

                                          <ng-container >
                                              <span>Show Lesson</span>
                                          </ng-container>
                                         
                                      <mat-icon
                                      class="icon-size-5 text-current"
                                          [svgIcon]="'heroicons_solid:arrow-sm-right'"></mat-icon>
                                  </span>
                              </a>
                          </div>
                         
                          <!-- Use ngIf to show/hide the description -->
                          
                        </div>
                      </div>
                    </li>
                  </ng-container>
                </li>
              </ng-container>
            </ol>
          </div>

      </mat-drawer>

      <!-- Drawer content -->
      <mat-drawer-content class="flex flex-col overflow-hidden">

          <!-- Header -->
          <div class="lg:hidden flex flex-0 items-center py-2 pl-4 pr-6 sm:py-4 md:pl-6 md:pr-8 border-b lg:border-b-0 bg-card dark:bg-transparent">
       
            <h2 class="ml-2.5 text-md sm:text-xl font-medium tracking-tight truncate">
              
            </h2>
        </div>
        
      <div
      class="flex-auto overflow-y-auto"
      cdkScrollable>
      <mat-tab-group
      class="fuse-mat-no-header"
      [animationDuration]="'200'"
      #courseSteps>
      <ng-container 
       >
          <mat-tab >
              <ng-template matTabContent>
                
                  <div
                      class="prose prose-sm max-w-3xl mx-auto sm:my-2 lg:mt-4 p-6 sm:p-10 sm:py-12 rounded-2xl shadow overflow-hidden bg-card"
                      [innerHTML]="selectedDiscription" >
                    
                     </div>
                    
                    
              </ng-template>
          </mat-tab>
      </ng-container>
  </mat-tab-group>

          
             </div>
               <!-- Progress & Navigation - Mobile -->

               <div class="lg:hidden flex items-center p-4 border-t bg-card">

                <button
                mat-icon-button
                (click)="matDrawer.toggle()">
                <mat-icon [svgIcon]="'heroicons_outline:view-list'"></mat-icon>
            </button>
            
                <div class="flex items-center justify-center ml-1 lg:ml-2 font-medium leading-5">
                    <span>{{currentStep + 1}}</span>
                    <span class="mx-0.5 text-hint">/</span>
                    <span>{{chapitre.length}}</span>
                </div>
                <mat-progress-bar class="flex-auto ml-6 rounded-full"
                                  [value]="100 * (currentStep + 1) / chapitre.length"></mat-progress-bar>
                <button class="ml-4" mat-icon-button (click)="goToPreviousStep()">
                    <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-left'"></mat-icon>
                </button>
                <button class="ml-0.5" mat-icon-button (click)="goToNextStep()">
                    <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-right'"></mat-icon>
                </button>
            </div>
              
      </mat-drawer-content>

  </mat-drawer-container>

</div>
